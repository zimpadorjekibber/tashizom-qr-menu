<!DOCTYPE html>
<html>

<head>
    <title>Debug Orders</title>
    <style>
        body {
            font-family: monospace;
            white-space: pre-wrap;
            padding: 20px;
        }
    </style>
</head>

<body>
    <h1>Latest 5 Orders (Raw Data)</h1>
    <div id="output">Loading...</div>
    <script type="module">
        import { db } from './firebase-config.js';
        import { collection, getDocs, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        async function debugOrders() {
            try {
                const q = query(collection(db, "orders"), orderBy("createdAt", "desc"), limit(5));
                const snapshot = await getDocs(q);
                const orders = [];
                snapshot.forEach(doc => {
                    orders.push({ id: doc.id, ...doc.data() });
                });
                document.getElementById('output').innerText = JSON.stringify(orders, null, 2);
            } catch (e) {
                document.getElementById('output').innerText = "Error: " + e.message;
            }
        }
        debugOrders();
    </script>
</body>

</html>